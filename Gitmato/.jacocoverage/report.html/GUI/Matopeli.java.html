<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="fi"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../.resources/report.css" type="text/css"/><link rel="shortcut icon" href="../.resources/report.gif" type="image/gif"/><title>Matopeli.java</title><link rel="stylesheet" href="../.resources/prettify.css" type="text/css"/><script type="text/javascript" src="../.resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../.sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">JaCoCoverage analysis of project &quot;Gitmato&quot; (powered by JaCoCo from EclEmma)</a> &gt; <a href="index.source.html" class="el_package">GUI</a> &gt; <span class="el_source">Matopeli.java</span></div><h1>Matopeli.java</h1><pre class="source lang-java linenums">
package GUI;
import Controller.PlayerController;
import Model.Board;
import javafx.application.*;
import javafx.embed.swing.SwingNode;
import javafx.geometry.Pos;
import javafx.stage.*;
import javafx.scene.*;
import javafx.scene.layout.*;
import javafx.scene.control.*;
import javafx.scene.image.Image;
import javafx.scene.image.ImageView;
import javax.swing.JPanel;
import javax.swing.SwingUtilities;

<span class="fc" id="L17">public class Matopeli extends Application {</span>

    Stage window;
    Scene scene1, scene2, scene3, scene4;
    
    private static Board board;
    private static PlayerController pc;
<span class="fc" id="L24">    final SwingNode swingNode = new SwingNode();</span>

    public static void main(String[] args) {
<span class="nc" id="L27">        launch(args);</span>
<span class="nc" id="L28">    }</span>

    @Override
    public void start(Stage primaryStage) {
<span class="fc" id="L32">        window = primaryStage;</span>
<span class="fc" id="L33">        window.setTitle(&quot;Gitmato&quot;);</span>
<span class="fc" id="L34">        Sound.Music.sound1.loop();</span>
        
        
        
        //----GAME MODE SELECTOR SCENE-----------

        //Button to Single player
        //Label label1 = new Label(&quot;Choose your gamemode!&quot;);
<span class="fc" id="L42">        Button button1 = new Button(&quot;Player VS AI&quot;);</span>
<span class="fc" id="L43">        button1.setOnAction(e -&gt;</span>
                {
<span class="nc" id="L45">                createAndSetSwingContent(swingNode, this, &quot;vs AI&quot;);</span>
<span class="nc" id="L46">                StackPane layout2 = new StackPane();</span>
<span class="nc" id="L47">                layout2.getChildren().add(swingNode); // Adding swing node</span>
<span class="nc" id="L48">                scene2 = new Scene(layout2, 800, 590);</span>
<span class="nc" id="L49">                window.setScene(scene2);</span>
<span class="nc" id="L50">                });</span>
        
         //Button to Versus
<span class="fc" id="L53">        Button button2 = new Button(&quot;Versus&quot;);</span>
<span class="fc" id="L54">        button2.setOnAction(e -&gt;</span>
                {
<span class="fc" id="L56">                createAndSetSwingContent(swingNode, this, &quot;versus&quot;);</span>
<span class="fc" id="L57">                StackPane layout3 = new StackPane();</span>
<span class="fc" id="L58">                layout3.getChildren().add(swingNode); // Adding swing node</span>
<span class="fc" id="L59">                scene3 = new Scene(layout3, 800, 590);</span>
<span class="fc" id="L60">                window.setScene(scene3);</span>
<span class="fc" id="L61">                });</span>
<span class="fc" id="L62">        Button button3 = new Button(&quot;Single player&quot;);</span>
<span class="fc" id="L63">        button3.setOnAction(e -&gt;</span>
                {
<span class="nc" id="L65">                createAndSetSwingContent(swingNode, this, &quot;sp&quot;);</span>
<span class="nc" id="L66">                StackPane layout4 = new StackPane();</span>
<span class="nc" id="L67">                layout4.getChildren().add(swingNode);</span>
<span class="nc" id="L68">                scene4 = new Scene(layout4, 800, 590);</span>
                //layout4.getChildren().remove(0);
<span class="nc" id="L70">                window.setScene(scene4);</span>
<span class="nc" id="L71">                });</span>
        
        //Layout 1 - Game mode selector
<span class="fc" id="L74">        VBox layout1 = new VBox(20);</span>
<span class="fc" id="L75">        layout1.setAlignment(Pos.CENTER);</span>
<span class="fc" id="L76">        layout1.getChildren().addAll( button2, button1, button3);</span>
<span class="fc" id="L77">        scene1 = new Scene(layout1, 800, 506);</span>
<span class="fc" id="L78">        layout1.setId(&quot;pane&quot;);</span>
<span class="fc" id="L79">        scene1.getStylesheets().add(&quot;Styling/styling.css&quot;);</span>
        //---------------------------------
        
         //------VERSUS SCENE---------------

        //Layout 3 - Singleplayer
        
        //-----------------------------------
        
        //------VERSUS SCENE---------------

        //Layout 2 - Versus
     
        
        
        //------GAME OVER SCENE---------------
        
        //Layout 3- Game over
        /*
        VBox layout3 = new VBox(20);
        layout3.setAlignment(Pos.CENTER);
       
        Label label3 = new Label(&quot;GAME OVER&quot;);
        Button restart = new Button(&quot;Restart&quot;);
        
        Button backToSS = new Button(&quot;Back to Main menu&quot;);
        backToSS.setOnAction(e -&gt; setScene(1));
        
        layout3.getChildren().addAll(label3, restart, backToSS); // Adding swing node
        scene3 = new Scene(layout3, 800, 600);
        scene3.getStylesheets().add(&quot;Styling/styling.css&quot;);
        //-----------------------------------
        */
        
        
        //Display scene 1 at first
<span class="fc" id="L115">        window.setScene(scene1);</span>
<span class="pc" id="L116">        window.setOnCloseRequest(e-&gt;System.exit(0));</span>
<span class="fc" id="L117">        window.setTitle(&quot;Gitmato&quot;);</span>
<span class="fc" id="L118">        window.show();</span>
<span class="fc" id="L119">    }</span>
    
    //So this shit makes it so that we can add the board into a JavaFX Scene
     private void createAndSetSwingContent(final SwingNode swingNode, Matopeli m, String pelimoodi) {
<span class="fc" id="L123">         SwingUtilities.invokeLater(() -&gt; {</span>
<span class="fc" id="L124">             JPanel board = new Board(m, pelimoodi);</span>
<span class="fc" id="L125">             swingNode.setContent(board);</span>
             
<span class="fc" id="L127">         });</span>
<span class="fc" id="L128">     }</span>

}
/*
public class Matopeli{
    
    private static MainFrame peli;
    private static UIController uic;
    private static PlayerController pc;

   
    public static void main(String[] args) {

        EventQueue.invokeLater(new Runnable() {
            @Override
            public void run() {     
                /*lpane = new JLayeredPane();
                peli = new MainFrame();
                peli.setLayout(new BorderLayout());
                peli.add(lpane, BorderLayout.CENTER);
                peliOhi = new GameOver(peli);

                peliOhi.setOpaque(true);

                lpane.add(board, 0, 0);
                lpane.add(peliOhi, 1, 0);

                peli.pack();
                peli.setVisible(true);
                uic = new UIController();
                pc = new PlayerController();
                peli = new MainFrame(uic);
                //peli.pack();
                peli.setVisible(true);
            }
        });         
    } 
}
    */ 
</pre><div class="footer"><span class="right">Created with <a href="http://www.eclemma.org/jacoco">JaCoCo</a> 0.7.6.201602180812</span></div></body></html>